{"version":3,"sources":["webpack:///./src/app/kind-form/kind-form.module.ts","webpack:///./src/app/kind-form/kind-form.page.html","webpack:///./src/app/kind-form/kind-form.page.scss","webpack:///./src/app/kind-form/kind-form.page.ts"],"names":[],"mappings":"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","file":"kind-form-kind-form-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { KindFormPage } from './kind-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: KindFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [KindFormPage]\n})\nexport class KindFormPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button icon-only menuToggle=\\\"start\\\">\\n          <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-menu-button>          \\n    </ion-buttons>\\n    <ion-title>\\n          Pratiche Web\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n  \\n<ion-content>\\n  <form [formGroup]=\\\"KindForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <h1 *ngIf=\\\"IsNew\\\">Nuova famiglia di opzioni infortuni</h1>\\n          <h1 *ngIf=\\\"! IsNew\\\">Opzione</h1>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" size-sm>\\n          <ion-item>\\n            <ion-label>Nome:</ion-label>\\n            <ion-input placeholder=\\\"Nome famiglia\\\" formControlName=\\\"name\\\"></ion-input> \\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" size-sm>\\n          <div>\\n            <ion-button color=\\\"primary\\\" [disabled]=\\\"!KindForm.valid\\\" (click)=\\\"onSaveClick()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"save\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button color=\\\"tertiary\\\" (click)=\\\"onCancelClick()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2tpbmQtZm9ybS9raW5kLWZvcm0ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { KindService } from '../services/kind.service';\nimport { ServiceStatus } from '../models/service-status.enum';\nimport { Subscription } from 'rxjs';\nimport { Kind } from '../models/kind';\n\n@Component({\n  selector: 'app-kind-form',\n  templateUrl: './kind-form.page.html',\n  styleUrls: ['./kind-form.page.scss'],\n})\nexport class KindFormPage implements OnInit, OnDestroy {\n  KindForm: FormGroup;\n  IsNew = false;\n  IsNew$: Subscription;\n  Kind$: Subscription;\n  Save$: Subscription;\n  private _Kind: Kind;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private service: KindService,\n    private router: Router,\n    private tc: ToastController\n  ) {\n    this.KindForm = formBuilder.group({\n      name: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    const self = this;\n    this.IsNew$ = this.route.params.subscribe(params => {\n      const parName = 'id';\n      const id = params[parName];\n      console.log(id);\n      self.IsNew = id === 'new';\n      if (! self.IsNew) {\n        this.Kind$ = self.service.asyncGet(id).subscribe((result) => {\n          this._Kind = result;\n          this.KindForm.setValue({name: this._Kind.name});\n        }, error => {\n          console.log(error);\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.IsNew$) {\n      this.IsNew$.unsubscribe();\n    }\n    if (this.Kind$) {\n      this.Kind$.unsubscribe();\n    }\n  }\n\n  private async presentToast(message: string) {\n    const toast = await this.tc.create({\n      message,\n      duration: 2000\n    });\n    await toast.present();\n  }\n\n\n  async onSaveClick() {\n    const self = this;\n    if (this.IsNew) {\n      const kind = new Kind();\n      kind.name = this.KindForm.get('name').value;\n      this.Save$ = this.service.asyncPost(kind).subscribe(async (result) => {\n        if (result === ServiceStatus.OK) {\n          if (result === ServiceStatus.OK) {\n            await self.presentToast('Dato salvato correttamente');\n          } else {\n            await self.presentToast('Si è presentato un problema, riprovare!');\n          }\n          } else {\n          console.log(result);\n        }\n      }, async error => {\n        await self.presentToast(`Si è presentato un problema: ${error}, riprovare!`);\n      });\n    } else {\n      this._Kind.name = this.KindForm.get('name').value;\n      this.Save$ = this.service.asyncPut(this._Kind).subscribe(async (result) => {\n        if (result === ServiceStatus.OK) {\n          await self.presentToast('Dato salvato correttamente');\n        } else {\n          await self.presentToast('Si è presentato un problema, riprovare!');\n        }\n      }, async error => {\n        await self.presentToast(`Si è presentato un problema: ${error}, riprovare!`);\n      });\n    }\n  }\n\n  onCancelClick() {\n    this.router.navigate(['/home']);\n  }\n}\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/app/models/option.ts","webpack:///./src/app/models/service-status.enum.ts","webpack:///./src/app/option-form/option-form.module.ts","webpack:///./src/app/option-form/option-form.page.html","webpack:///./src/app/option-form/option-form.page.scss","webpack:///./src/app/option-form/option-form.page.ts","webpack:///./src/app/services/option.service.ts"],"names":[],"mappings":"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","file":"option-form-option-form-module.js","sourcesContent":["export class Option {\n  _id: string;\n  name: string;\n  deleted: Boolean;\n  kind: string;\n}\n","export enum ServiceStatus {\n  OK,\n  FAILED\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OptionFormPage } from './option-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OptionFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [OptionFormPage]\n})\nexport class OptionFormPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button icon-only menuToggle=\\\"start\\\">\\n          <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-menu-button>          \\n    </ion-buttons>\\n    <ion-title>\\n          Pratiche Web\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n  \\n\\n<ion-content>\\n  <form [formGroup]=\\\"OptionForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <h1 *ngIf=\\\"IsNew\\\">Nuova opzione per {{KindName}}</h1>\\n          <h1 *ngIf=\\\"! IsNew\\\">Opzione</h1>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" size-sm>\\n          <ion-item>\\n            <ion-label>Nome:</ion-label>\\n            <ion-input placeholder=\\\"Opzione\\\" formControlName=\\\"name\\\"></ion-input> \\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" size-sm>\\n          <div>\\n            <ion-button color=\\\"primary\\\" [disabled]=\\\"!OptionForm.valid\\\" (click)=\\\"onSaveClick()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"save\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button color=\\\"tertiary\\\" (click)=\\\"onCancelClick()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n    \\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29wdGlvbi1mb3JtL29wdGlvbi1mb3JtLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { OptionService } from '../services/option.service';\nimport { ServiceStatus } from '../models/service-status.enum';\nimport { Subscription } from 'rxjs';\nimport { Option } from '../models/option';\n\n@Component({\n  selector: 'app-option-form',\n  templateUrl: './option-form.page.html',\n  styleUrls: ['./option-form.page.scss'],\n})\nexport class OptionFormPage implements OnInit, OnDestroy {\n\n  @Input() KindName: string;\n  @Input() Option: Option;\n  OptionForm: FormGroup;\n  Params$: Subscription;\n  private kindId: string;\n  private id: string;\n  IsNew = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private fb: FormBuilder,\n    private service: OptionService,\n    private tc: ToastController) {\n    this.OptionForm = fb.group({\n      name: ['', Validators.required]\n    });\n  }\n\n  private GetParams(): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.Params$ = self.route.params.subscribe(params => {\n        self.kindId = params['kind_id'];\n        self.id = params['id'];\n        self.IsNew = self.id === 'new';\n        resolve(true);\n      });\n    });\n  }\n\n  async ngOnInit() {\n    this.KindName = localStorage.getItem('kindName');\n    await this.GetParams();\n    if (!this.IsNew) {\n      this.Option = await this.GetOption(this.id);\n      if (this.Option) {\n        this.OptionForm.get('name').setValue(this.Option.name);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.Params$) {\n      this.Params$.unsubscribe();\n    }\n  }\n\n  private Save(option: Option): Promise<ServiceStatus> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      const serviceFun = self.IsNew ? self.service.asyncPost : self.service.asyncPut;\n      serviceFun.bind(this.service)(this.kindId, option).subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          console.error(err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  private async ShowToast(message: string) {\n    const toast = await this.tc.create({\n      message,\n      duration: 2000\n    });\n    await toast.present();\n  }\n\n  private async GetOption(id: string): Promise<Option> {\n    const self = this;\n    return new Promise<Option>((resolve, reject) => {\n      self.service.asyncGet(self.kindId, id).subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  async onSaveClick() {\n    const option = this.IsNew ? new Option() : this.Option;\n    option.name = this.OptionForm.get('name').value;\n    option.kind = this.kindId;\n\n    try {\n      const ss = await this.Save(option);\n      if (ss === ServiceStatus.OK) {\n        await this.ShowToast('Opzione salvata correttamente');\n      } else {\n        await this.ShowToast('Si è presentato un problema. Riprova!');\n      }\n    } catch (e) {\n      await this.ShowToast(`Si è presentato un problema ${e}. Riprova!`);\n    }\n  }\n\n  onCancelClick() {\n    this.router.navigate(['/options', this.kindId]);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ServiceStatus } from '../models/service-status.enum';\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\n\nimport { Option } from '../models/option';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OptionService {\n\n  constructor(private _http: HttpClient) { }\n\n  asyncGetList(KindId: String): Observable<Array<Option>> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this._http.get(`/api/setup/options/${KindId}/`, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response'\n      }).subscribe((data: any) => {\n        const primitiveOptions = data.body;\n        console.log(data.body);\n        const options: Array<Option> = primitiveOptions.map((obj) => {\n          const o = new Option();\n          o.name = obj.name;\n          o.deleted = obj.deleted;\n          o._id = obj._id;\n          o.kind = obj.kind;\n          return o;\n        });\n        observer.next(options);\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n\n  asyncPost(kindId: string, option: Option): Observable<ServiceStatus> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this._http.post(`/api/setup/options/${kindId}`, option, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response',\n        responseType: 'text'\n      }).subscribe((res: HttpResponse<any>) => {\n        if (res.status === 200) {\n          observer.next(ServiceStatus.OK);\n        } else {\n          observer.next(ServiceStatus.FAILED);\n        }\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n\n  asyncDelete(kindId: string, id: String): Observable<ServiceStatus> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this._http.delete(`/api/setup/options/${kindId}/${id}`, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response',\n        responseType: 'text'\n      }).subscribe((res: HttpResponse<any>) => {\n        if (res.status === 200) {\n          observer.next(ServiceStatus.OK);\n        } else {\n          observer.next(ServiceStatus.FAILED);\n        }\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n\n  asyncGet(kindId: string, id: string): Observable<Option> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this._http.get(`/api/setup/options/${kindId}/${id}`, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response'\n      }).subscribe((data: any) => {\n        console.log(data);\n        const primitiveOption = data.body;\n        const k = new Option();\n        k.name = primitiveOption.name;\n        k.deleted = primitiveOption.deleted;\n        k._id = primitiveOption._id;\n        k.kind = primitiveOption.kind;\n        observer.next(k);\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n\n  asyncPut(kindId: string, option: Option): Observable<ServiceStatus> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this._http.put(`/api/setup/options/${kindId}/${option._id}`, option, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response',\n        responseType: 'text'\n      }).subscribe((res: HttpResponse<any>) => {\n        if (res.status === 200) {\n          observer.next(ServiceStatus.OK);\n        } else {\n          observer.next(ServiceStatus.FAILED);\n        }\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n}\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/app/proposal-form/proposal-form.module.ts","webpack:///./src/app/proposal-form/proposal-form.page.html","webpack:///./src/app/proposal-form/proposal-form.page.scss","webpack:///./src/app/proposal-form/proposal-form.page.ts"],"names":[],"mappings":"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","file":"proposal-form-proposal-form-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProposalFormPage } from './proposal-form.page';\nimport { OrganizationModalPageModule } from '../modals/organization-modal/organization-modal.module';\nimport { OrganizationModalPage } from '../modals/organization-modal/organization-modal.page';\nimport { CustomerModalPageModule } from 'src/app/modals/customer-modal/customer-modal.module';\nimport { CustomerModalPage } from 'src/app/modals/customer-modal/customer-modal.page';\nimport { AttachmentsPageModule} from 'src/app/attachments/attachments.module';\n\nconst routes: Routes = [\n  {\n    path: ':token',\n    component: ProposalFormPage\n  },\n  {\n    path: ':token/attachments',\n    loadChildren: 'src/app/attachments/attachments.module#AttachmentsPageModule'\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    OrganizationModalPageModule,\n    CustomerModalPageModule,\n    IonicModule,\n    AttachmentsPageModule,\n    RouterModule.forChild(routes)\n  ],\n  entryComponents: [OrganizationModalPage, CustomerModalPage],\n  declarations: [ProposalFormPage]\n})\nexport class ProposalFormPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button icon-only menuToggle=\\\"start\\\">\\n        <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-menu-button>          \\n    </ion-buttons>\\n    <ion-title>\\n      Pratiche Web\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <form [formGroup]=\\\"policyForm\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col>\\n            <p *ngIf=\\\"isNew\\\"><a (click)=\\\"onCancelClick()\\\" [routerLink]=\\\"\\\">Lista Proposte</a> | Nuova proposta</p>\\n            <p *ngIf=\\\"! isNew\\\"><a (click)=\\\"onCancelClick()\\\" [routerLink]=\\\"\\\">Lista Proposte</a> | Proposta</p>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label>\\n                <h1 *ngIf=\\\"isNew\\\">Nuova proposta</h1>\\n                <h1 *ngIf=\\\"! isNew\\\">Proposta</h1>        \\n              </ion-label>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Compagnia:</ion-label>\\n              {{nomeCompagnia}}\\n              <ion-button color=\\\"primary\\\" slot=\\\"start\\\" (click)=\\\"onCompagniaChooseClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"compass\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"resetCompagniaClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-button>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Cliente:</ion-label>\\n              {{nomeCustomer}}\\n              <ion-button color=\\\"primary\\\" slot=\\\"start\\\" (click)=\\\"onCustomerChooseClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"compass\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"resetCustomerClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-button>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Brooker:</ion-label>\\n              {{nomeBrooker}}\\n              <ion-button color=\\\"primary\\\" slot=\\\"start\\\" (click)=\\\"onBrookerChooseClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"compass\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"resetBrookerClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-button>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Segnalatore:</ion-label>\\n              {{nomeSegnalatore}}\\n              <ion-button color=\\\"primary\\\" slot=\\\"start\\\" (click)=\\\"onSegnalatoreChooseClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"compass\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"resetSegnalatoreClick()\\\">\\n                  <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n                </ion-button>\\n              </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row *ngFor=\\\"let k of setupKinds\\\">\\n          <ion-col>\\n            <ion-item>\\n              <ion-button color=\\\"primary\\\" slot=\\\"start\\\" (click)=\\\"onPickerClick(k)\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-dropdown\\\"></ion-icon>\\n              </ion-button>\\n              <ion-label>{{k.name}}:</ion-label>\\n              <ion-input placeholder=\\\"--\\\" [formControlName]=\\\"k._id\\\" readonly=\\\"true\\\"></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Stato:</ion-label>\\n              <ion-select placeholder=\\\"Stato proposta\\\" formControlName=\\\"status\\\">\\n                <ion-select-option value=\\\"aperta\\\">Aperta</ion-select-option>\\n                <ion-select-option value=\\\"chiusa\\\">Chiusa</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item>\\n              <ion-label>Note:</ion-label>\\n              <ion-textarea placeholder=\\\"Note\\\" formControlName=\\\"note\\\" rows=\\\"10\\\"></ion-textarea>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>      \\n        <ion-row *ngIf=\\\"token && token !== '' && token !=='new'\\\" class=\\\"ion-align-items-center\\\">\\n          <ion-col size=\\\"auto\\\">\\n              <h1>Allegati</h1>\\n          </ion-col>\\n          <ion-col>\\n              <ion-button color=\\\"primary\\\" (click)=\\\"onAddAttachmentClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n              </ion-button>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row *ngIf=\\\"token && token !== '' && token !=='new'\\\">\\n          <ion-col>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row *ngFor=\\\"let a of attachments\\\">\\n          <ion-col>\\n            <ion-item>\\n              <ion-label text-wrap>\\n                <ion-text color=\\\"tertiary\\\">{{a.name}}</ion-text>\\n              </ion-label>\\n              <ion-note slot=\\\"end\\\" class=\\\"ion-hide-sm-down\\\">\\n                {{a.tags}} {{a.kind}}\\n              </ion-note>\\n              <ion-button color=\\\"tertiary\\\" slot=\\\"start\\\" href=\\\"http://pratiche.ares/api/attachments/{{a.kind}}/{{token}}/{{a._id}}/attachment\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"cloud-download\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"onDeleteAttachmentClick(a)\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-button>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row *ngIf=\\\"attachments && attachments.length > 0\\\">\\n          <ion-col>\\n            <ion-button color=\\\"primary\\\" (click)=\\\"onAddAttachmentClick()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <div>\\n              <ion-button color=\\\"primary\\\" [disabled]=\\\"!policyForm.valid\\\" (click)=\\\"onSaveClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"save\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"primary\\\" [disabled]=\\\"!policyForm.valid\\\" (click)=\\\"onCopyClick()\\\" *ngIf=\\\"! isNew\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"copy\\\"></ion-icon>\\n              </ion-button>\\n              <ion-button color=\\\"tertiary\\\" (click)=\\\"onCancelClick()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n              </ion-button>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </form>    \\n  </div>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb3Bvc2FsLWZvcm0vcHJvcG9zYWwtZm9ybS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder, FormControl} from '@angular/forms';\nimport { Policy } from '../models/policy';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Organization } from '../models/organization';\nimport { OrganizationService } from '../services/organization.service';\nimport { Subscription, Observable, forkJoin } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { ModalController, AlertController, ToastController } from '@ionic/angular';\nimport { OrganizationModalPage } from '../modals/organization-modal/organization-modal.page';\nimport { SetupPoliciesService} from '../services/setup-policies.service';\nimport { SetupKind } from '../models/setup-kind';\nimport { SetupOption } from '../models/setup-option';\nimport { PickerController } from '@ionic/angular';\nimport { Attachment } from '../models/attachment';\nimport { AttachmentsService } from '../services/attachments.service';\nimport { ServiceStatus } from 'src/app/models/service-status.enum';\nimport { PolicyService } from '../services/policy.service';\nimport { Customer } from 'src/app/models/customer';\nimport { CustomerService } from 'src/app/services/customer.service';\nimport { CustomerModalPage } from 'src/app/modals/customer-modal/customer-modal.page';\nimport { StringToDate} from 'src/app/converters/string-to-date';\n\n@Component({\n  selector: 'app-proposal-form',\n  templateUrl: './proposal-form.page.html',\n  styleUrls: ['./proposal-form.page.scss'],\n})\nexport class ProposalFormPage implements OnInit {\n  policy: Policy;\n  @Input() policyForm: FormGroup;\n  isNew = true;\n  customers: Customer[] = [];\n  companies: Organization[] = [];\n  brookers: Organization[] = [];\n  segnalatori: Organization[] = [];\n  setupKinds: SetupKind[] = [];\n  options: Map<string, SetupOption[]>;\n  param$: Subscription;\n  @Input() nomeCustomer = '';\n  @Input() nomeCompagnia = '';\n  @Input() nomeBrooker = '';\n  @Input() nomeSegnalatore = '';\n  @Input() attachments: Attachment[];\n  selections: object = {};\n  token: string;\n  attachmentKinds = [\n    'proposta-proposta',\n    'proposta-pagamento',\n    'proposta-richiesta'\n  ];\n\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private os: OrganizationService,\n    private as: AttachmentsService,\n    private mc: ModalController,\n    private sps: SetupPoliciesService,\n    private pc: PickerController,\n    private ac: AlertController,\n    private tc: ToastController,\n    private ps: PolicyService,\n    private cs: CustomerService\n  ) {\n    this.policyForm = fb.group({\n      insuranceCompanyId: [''],\n      segnalatoreId: [''],\n      brookerId: [''],\n      proposalId: [''],\n      customerId: [''],\n      premio: ['0', Validators.pattern(/^[0-9]*\\,?[0-9]{0,2}$/)],\n      ip: ['0', Validators.pattern(/^[0-9]*\\,?[0-9]{0,2}$/)],\n      rimborso: ['0', Validators.pattern(/^[0-9]*\\,?[0-9]{0,2}$/)],\n      status: ['aperta', Validators.required],\n      note: ['']\n    });\n  }\n\n  private getPolicyToken(): Promise<string> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.param$ = self.route.params.subscribe(params => {\n        resolve(params.token);\n      });\n    });\n  }\n\n  private getSetupKinds(): Promise<SetupKind[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.sps.getKinds().subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  private getSetupOptions(idKind: string): Promise<SetupOption[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.sps.getOptions(idKind).subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  private getAttachments(kind: string): Promise<Attachment[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      if (self.token !== 'new') {\n        self.as.asyncGetAttachments(self.token, kind).subscribe({\n          next(atchs) {\n            resolve(atchs);\n          },\n          error(err) {\n            resolve([]);\n          }\n        });\n      } else {\n        resolve([]);\n      }\n    });\n  }\n\n  private initOptions(): Promise<void> {\n    const self = this;\n    return new Promise(async resolve => {\n      await this.setupKinds.reduce(async (promise, k) => {\n        this.policyForm.addControl(k._id, new FormControl(''));\n        await promise;\n        const opts = await this.getSetupOptions(k._id);\n        this.options.set(k._id, opts);\n      }, Promise.resolve());\n      resolve();\n    });\n  }\n\n  private getOrganization(kind: string): Promise<Organization[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      try {\n        self.os.getOrganizationList(kind).subscribe({next(ris) {\n          resolve(ris);\n        }, error(err) {\n          reject(err);\n        }});\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  private getCustomers(): Promise<Customer[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.cs.asyncGetCustomers().subscribe(customers => {\n        resolve(customers);\n      });\n    });\n  }\n\n  async onPickerClick(kind: SetupKind) {\n    const options = this.options.get(kind._id);\n    const pickerOptions = options.map(opt => {\n      return {\n        text: opt.name,\n        value: opt._id\n      };\n    });\n    const picker = await this.pc.create({\n      buttons: [\n        {\n          text: 'Ok',\n          handler: (selected => {\n            this.policyForm.get(kind._id).setValue(selected[kind.name].text);\n            const fieldName = `${kind._id}`;\n            this.selections[fieldName] = selected[kind.name].value;\n          })\n        },\n        {\n          text: 'Annulla'\n        },\n        {\n          text: 'Svuota',\n          handler: (selected => {\n            this.policyForm.get(kind._id).setValue('');\n            const fieldName = `${kind._id}`;\n            this.selections[fieldName] = '';\n          })\n        }\n      ],\n      keyboardClose: true,\n      columns: [{\n        name: kind.name,\n        options: pickerOptions\n      }]\n    });\n    await picker.present();\n  }\n\n  private getCompanies(): Promise<Organization[]> {\n    return this.getOrganization('Compagnie');\n  }\n  private getBrookers(): Promise<Organization[]> {\n    return this.getOrganization('Broker');\n  }\n  private getSegnalatori(): Promise<Organization[]> {\n    return this.getOrganization('Segnalatori');\n  }\n\n  private getPolicy(token: string): Promise<Policy> {\n    return new Promise((resolve, reject) => {\n      this.ps.single(token).subscribe(policy => {\n        resolve(policy);\n      });\n    });\n  }\n\n  private initCompany(p: Policy) {\n    if (p.insuranceCompanyId) {\n      const org = this.companies.reduce((a, b) => {\n        if (b._id === p.insuranceCompanyId) {\n          return b;\n        } else {\n          return a;\n        }\n      }, null);\n      if (org) {\n        this.nomeCompagnia = org.name;\n      }\n    }\n  }\n\n  private initBrooker(p: Policy) {\n    if (p.brookerId) {\n      const org = this.brookers.reduce((a, b) => {\n        if (b._id === p.brookerId) {\n          return b;\n        } else {\n          return a;\n        }\n      }, null);\n      if (org) {\n        this.nomeBrooker = org.name;\n      }\n    }\n  }\n\n  private initSegnalatore(p: Policy) {\n    if (p.segnalatoreId) {\n      const org = this.segnalatori.reduce((a, b) => {\n        if (b._id === p.segnalatoreId) {\n          return b;\n        } else {\n          return a;\n        }\n      }, null);\n      if (org) {\n        this.nomeSegnalatore = org.name;\n      }\n    }\n  }\n\n  private initCustomer(p: Policy) {\n    if (p.customerId) {\n      const c = this.customers.reduce((a, b) => {\n        if (b.token === p.customerId) {\n          return b;\n        } else {\n          return a;\n        }\n      }, null);\n      if (c) {\n        this.nomeCustomer = `${c.firstName} ${c.lastName}`;\n      }\n    }\n  }\n\n  async ionViewWillEnter() {\n    try {\n      this.options = new Map<string, SetupOption[]>();\n      this.token = await this.getPolicyToken();\n      this.isNew = this.token === 'new';\n      if (! this.isNew) {\n        this.policy = await this.getPolicy(this.token);\n        this.setupKinds = await this.getSetupKinds();\n        this.selections = this.policy.options;\n        if (this.setupKinds && this.setupKinds.length > 0) {\n          await this.initOptions();\n        }\n        this.policyForm.patchValue(this.policy);\n      } else {\n        this.setupKinds = await this.getSetupKinds();\n        if (this.setupKinds && this.setupKinds.length > 0) {\n          await this.initOptions();\n        }\n      }\n      this.companies = await this.getCompanies();\n      this.brookers = await this.getBrookers();\n      this.segnalatori = await this.getSegnalatori();\n      this.attachments = [];\n      for (const kind of this.attachmentKinds) {\n        const ats = await this.getAttachments(kind);\n        this.attachments = this.attachments.concat(ats);\n      }\n      this.customers = await this.getCustomers();\n      if (! this.isNew) {\n        this.initBrooker(this.policy);\n        this.initCompany(this.policy);\n        this.initSegnalatore(this.policy);\n        this.initCustomer(this.policy);\n      }\n    } catch (e) {\n      console.error(e);\n      this.token = '';\n      this.isNew = true;\n    }\n  }\n\n  ionViewWillExit() {\n    if (this.param$) {\n      this.param$.unsubscribe();\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  onCancelClick() {\n    this.router.navigate(['proposals']);\n  }\n\n  resetCustomerClick() {\n    this.nomeCustomer = '';\n    this.policyForm.get('customerId').setValue('');\n  }\n\n  resetCompagniaClick() {\n    this.nomeCompagnia = '';\n    this.policyForm.get('insuranceCompanyId').setValue('');\n  }\n\n  resetBrookerClick() {\n    this.nomeBrooker = '';\n    this.policyForm.get('brookerId').setValue('');\n  }\n\n  resetSegnalatoreClick() {\n    this.nomeSegnalatore = '';\n    this.policyForm.get('segnalatoreId').setValue('');\n  }\n\n  async onCustomerChooseClick() {\n    const self = this;\n    const modal = await this.mc.create({\n      component: CustomerModalPage,\n      componentProps: {\n        baseCustomers: self.customers\n      }\n    });\n    await modal.present();\n    const  { data } = await modal.onDidDismiss();\n    if (data) {\n      this.nomeCustomer = `${data.firstName} ${data.lastName}`;\n      this.policyForm.get('customerId').setValue(data.token);\n    }\n  }\n\n  async onCompagniaChooseClick() {\n    const self = this;\n    const modal = await this.mc.create({\n      component: OrganizationModalPage,\n      componentProps: {\n        BaseOrganizations: self.companies\n      }\n    });\n    await modal.present();\n    const { data } = await modal.onDidDismiss();\n    if (data) {\n      this.nomeCompagnia = data.name;\n      this.policyForm.get('insuranceCompanyId').setValue(data._id);\n    }\n  }\n\n  async onBrookerChooseClick() {\n    const self = this;\n    const modal = await this.mc.create({\n      component: OrganizationModalPage,\n      componentProps: {\n        BaseOrganizations: self.brookers\n      }\n    });\n    await modal.present();\n    const { data } = await modal.onDidDismiss();\n    if (data) {\n      this.nomeBrooker = data.name;\n      this.policyForm.get('brookerId').setValue(data._id);\n    }\n  }\n\n  async onSegnalatoreChooseClick() {\n    const self = this;\n    const modal = await this.mc.create({\n      component: OrganizationModalPage,\n      componentProps: {\n        BaseOrganizations: self.segnalatori\n      }\n    });\n    await modal.present();\n    const { data } = await modal.onDidDismiss();\n    if (data) {\n      this.nomeSegnalatore = data.name;\n      this.policyForm.get('segnalatoreId').setValue(data._id);\n    }\n  }\n\n  onAddAttachmentClick() {\n    this.router.navigate(['proposal', this.token, 'attachments'], {queryParams: {kind: 'proposta'}});\n  }\n\n  private async showMessage(message: string) {\n    const toast = await this.tc.create({\n      message,\n      duration: 2000\n    });\n    await toast.present();\n  }\n\n  private deleteAttachment(attachment: Attachment): Promise<ServiceStatus> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.as.asyncDeleteAttachment(attachment).subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          resolve(ServiceStatus.FAILED);\n        }\n      });\n    });\n  }\n\n  private async confirmDelete(attachment: Attachment) {\n    const self = this;\n    const alert = await this.ac.create({\n      header: 'Cancellazione allegato',\n      message: 'Stai per <strong>cancellare</strong> un allegato',\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (cnl) => {}\n        },\n        {\n          text: 'Conferma',\n          handler: async () => {\n            try {\n              const ss = await this.deleteAttachment(attachment);\n              if (ss === ServiceStatus.OK) {\n                this.attachments = [];\n                for (const a of this.attachmentKinds) {\n                  const ats = await this.getAttachments(a);\n                  this.attachments = this.attachments.concat(ats);\n                }\n                await self.showMessage('Allegato correttamente cancellato.');\n              } else {\n                await self.showMessage('Si è verificato un problema. Riprova!');\n              }\n            } catch (e) {\n              await self.showMessage(`Si è verificato un problema ${e}. Riprova!`);\n            }\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async onDeleteAttachmentClick(attachment: Attachment) {\n    await this.confirmDelete(attachment);\n  }\n\n  save(p: Policy): Promise<Policy> {\n    return new Promise((resolve, reject ) => {\n      if (this.isNew) {\n        this.ps.saveNew(p).subscribe(np => {\n          resolve(np);\n        });\n      } else {\n        this.ps.update(p).subscribe(up => {\n          resolve(up);\n        });\n      }\n    });\n  }\n\n  generatePolicy(): Promise<Policy> {\n    return new Promise((resolve, reject) => {\n      const policy: Policy = {\n        kind: 'proposal',\n        ...this.policyForm.value,\n        options: this.selections\n      };\n      if (this.isNew) {\n        resolve(policy);\n      } else {\n        Object.assign(this.policy, policy);\n        resolve(this.policy);\n      }\n    });\n  }\n\n  async onSaveClick() {\n    try {\n      const p = await this.generatePolicy();\n      const savedPolicy = await this.save(p);\n      await this.showMessage('Salvataggio avvenuto correttamente');\n      this.router.navigate(['proposal', savedPolicy.token]);\n    } catch (err) {\n      console.error(err);\n      await this.showMessage(`Qualcosa è andato storto, riprovare.`);\n    }\n  }\n\n  private copyPolicy(p: Policy): Promise<Policy> {\n    return new Promise((resolve, reject) => {\n      try {\n        this.ps.toPolicy(p.token).subscribe(async copied => {\n          // copy all the attachments\n          await forkJoin(this.attachments.map(attch => {\n            return this.as.asyncPostCopyAttachment(attch, attch.kind.replace('proposta', 'polizza'), copied.token);\n          })).toPromise();\n          resolve(copied);\n        });\n      } catch (err) {\n        console.error(err);\n        reject(err);\n      }\n    });\n  }\n\n  async onCopyClick() {\n    try {\n      const p = await this.generatePolicy();\n      const savedPolicy = await this.save(p);\n      const copiedPolicy = await this.copyPolicy(savedPolicy);\n      await this.showMessage('Salvataggio avvenuto correttamente');\n      this.router.navigate(['policy', copiedPolicy.token]);\n    } catch (err) {\n      console.error(err);\n      await this.showMessage(`Qualcosa è andato storto, riprovare.`);\n    }\n  }\n\n}\n"],"sourceRoot":""}
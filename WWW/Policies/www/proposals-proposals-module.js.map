{"version":3,"sources":["webpack:///./src/app/models/customer.ts","webpack:///./src/app/proposals/proposals.module.ts","webpack:///./src/app/proposals/proposals.page.html","webpack:///./src/app/proposals/proposals.page.scss","webpack:///./src/app/proposals/proposals.page.ts","webpack:///./src/app/services/customer.service.ts","webpack:///./src/app/services/organization.service.ts","webpack:///./src/app/services/policy.service.ts"],"names":[],"mappings":"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","file":"proposals-proposals-module.js","sourcesContent":["export class BirthData {\n  date?: string;\n  city?: string;\n  province?: string;\n  nation?: string;\n}\n\nexport class Address {\n  address?: string;\n  city?: string;\n  province?: string;\n  nation?: string;\n  zip?: string;\n}\n\nexport class Contacts {\n  email1?: string;\n  email2?: string;\n  fax?: string;\n  phone1?: string;\n  phone2?: string;\n}\n\nexport class Customer {\n  _id: string;\n  firstName: string;\n  lastName: string;\n  fiscalCode?: string;\n  vatNumber?: string;\n  birth?: BirthData;\n  idCard?: string;\n  passport?: string;\n  driveLicense?: string;\n  address?: Address;\n  options?: Map<string, string>;\n  notes?: string;\n  contacts?: Contacts;\n  company: string;\n  deleted: boolean;\n  token: string;\n  version: number;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProposalsPage } from './proposals.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProposalsPage,\n    runGuardsAndResolvers: 'always'\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProposalsPage]\n})\nexport class ProposalsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button icon-only menuToggle=\\\"start\\\">\\n        <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-menu-button>          \\n    </ion-buttons>\\n    <ion-title>\\n      Pratiche Web\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <h1>Proposte</h1>\\n    <div *ngIf=\\\"!basePolicies || basePolicies.length === 0\\\">\\n      Nessuna proposta presente. <br />\\n      <ion-button color=\\\"tertiary\\\" size=\\\"default\\\" (click)=\\\"onCreateClick()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"create\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n    <div *ngIf=\\\"basePolicies && basePolicies.length > 0\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-button color=\\\"tertiary\\\" (click)=\\\"onCreateClick()\\\" size=\\\"default\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"create\\\"></ion-icon>\\n              </ion-button>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" size-sm>\\n              <ion-item lines=\\\"none\\\">                \\n                <ion-searchbar placeholder=\\\"Cerca\\\" (ionChange)=\\\"searchChange($event)\\\"></ion-searchbar>\\n                <ion-spinner *ngIf=\\\"!hideSpinner\\\"></ion-spinner>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n      </ion-grid>\\n    </div>\\n    <ion-grid *ngIf=\\\"policies && policies.length > 0\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" size-sm>\\n          <ion-virtual-scroll [items]=\\\"policies\\\">\\n            <ion-item *virtualItem=\\\"let p\\\" lines=\\\"full\\\" approxItemHeight=\\\"57px\\\">\\n              <ion-button color=\\\"primary\\\" (click)=\\\"onItemClick(p.policy.token)\\\" slot=\\\"start\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"compass\\\"></ion-icon>\\n              </ion-button>\\n              <ion-note slot=\\\"end\\\" class=\\\"ion-hide-sm-down\\\">\\n                {{p.customer ? p.customer.firstName : ''}} {{p.customer ? p.customer.lastName : ''}}\\n              </ion-note>\\n              <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"onItemDelete(p.policy.token)\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-button>\\n              <ion-label text-wrap>{{p.company ? p.company.name : ''}}</ion-label>\\n            </ion-item>            \\n          </ion-virtual-scroll>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb3Bvc2Fscy9wcm9wb3NhbHMucGFnZS5zY3NzIn0= */\"","import { Component, Input, OnDestroy } from '@angular/core';\nimport { Policy } from 'src/app/models/policy';\nimport { Customer } from 'src/app/models/customer';\nimport { Organization } from 'src/app/models/organization';\nimport { PolicyItem } from 'src/app/models/policy-item';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { PolicyService } from 'src/app/services/policy.service';\nimport { CustomerService } from 'src/app/services/customer.service';\nimport { OrganizationService } from 'src/app/services/organization.service';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-proposals',\n  templateUrl: './proposals.page.html',\n  styleUrls: ['./proposals.page.scss'],\n})\nexport class ProposalsPage implements OnDestroy {\n  @Input() basePolicies: PolicyItem[] = [];\n  @Input() policies: PolicyItem[] = [];\n  hideSpinner = true;\n  @Input() query: string;\n  sub$: Subscription;\n\n  constructor(\n    private r: Router,\n    private tc: ToastController,\n    private ac: AlertController,\n    private ps: PolicyService,\n    private cs: CustomerService,\n    private os: OrganizationService) {\n      this.sub$ = this.r.events.subscribe((e: any) => {\n        if (e instanceof NavigationEnd) {\n          this.loadData();\n        }\n      });\n    }\n\n  private getList(): Promise<Policy[]> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.ps.getList('proposal').subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  private getCustomers(): Promise<Customer[]> {\n    return new Promise((resolve, reject) => {\n      this.cs.asyncGetCustomers().subscribe(cs => resolve(cs));\n    });\n  }\n\n  private getCompanies(): Promise<Organization[]> {\n    return new Promise((resolve, reject) => {\n      this.os.getOrganizationList('Compagnie').subscribe(c => resolve(c));\n    });\n  }\n\n  private mapToItem(ps: Policy[], cs: Customer[], ics: Organization[]): PolicyItem[] {\n    return ps.map(p => {\n      const mayCustomer = cs.filter(c => c.token === p.customerId);\n      const mayCompany = ics.filter(ic => ic._id === p.insuranceCompanyId);\n      return {\n        policy: p,\n        customer: mayCustomer ? mayCustomer[0] : null,\n        company: mayCompany ? mayCompany[0] : null\n      };\n    });\n  }\n\n  async ionViewWillEnter() {\n    this.loadData();\n  }\n\n  private async loadData() {\n    try {\n      // console.log('entrato');\n      const ps = await this.getList();\n      const cs = await this.getCustomers();\n      const ics = await this.getCompanies();\n      this.policies = this.mapToItem(ps, cs, ics);\n      this.basePolicies = this.policies;\n      if (this.query) {\n        this.policies = await this.filterData(this.query);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  onCreateClick() {\n    this.r.navigate(['proposal', 'new']);\n  }\n\n  private filterData(query: string): Promise<Array<PolicyItem>> {\n    const self = this;\n    return new Promise ((resolve, reject) => {\n      if (query && query !== '') {\n        try {\n          resolve(this.basePolicies.filter(obj => {\n            const srep = JSON.stringify(obj);\n            console.log(srep);\n            const regex = new RegExp(`${query}`, 'i');\n            console.log(regex);\n            return regex.test(srep);\n          }));\n        } catch (e) {\n          resolve(this.basePolicies);\n        }\n      } else {\n        resolve(this.basePolicies);\n      }\n    });\n  }\n\n  async searchChange(event) {\n    this.query = event.target.value;\n    this.policies = await this.filterData(event.target.value);\n  }\n\n  onItemClick(token: string) {\n    this.r.navigate(['proposal', token]);\n  }\n\n  private DeleteItem(token: string): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      self.ps.delete(token).subscribe({\n        next(ris) {\n          resolve(ris);\n        },\n        error(err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  private async ShowMessage(message: string) {\n    const toast = await this.tc.create({\n      message,\n      duration: 2000\n    });\n    await toast.present();\n  }\n\n  private async ConfirmDelete(token: string) {\n    const self = this;\n    const alert = await this.ac.create({\n      header: 'Cancellazione proposta',\n      message: 'Stai per <strong>cancellare</strong> una proposta',\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (cnl) => {}\n        },\n        {\n          text: 'Conferma',\n          handler: () => {\n            try {\n              this.DeleteItem(token).then(ss => {\n                if (ss) {\n                  this.r.navigate(['proposals']);\n                  self.ShowMessage('Proposta correttamente cancellata.');\n                } else {\n                  self.ShowMessage('Si è verificato un problema. Riprova!');\n                }\n              });\n            } catch (e) {\n              self.ShowMessage(`Si è verificato un problema ${e}. Riprova!`);\n            }\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async onItemDelete(token: string) {\n    await this.ConfirmDelete(token);\n  }\n\n  ngOnDestroy() {\n    if (this.sub$) {\n      this.sub$.unsubscribe();\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ServiceStatus } from '../models/service-status.enum';\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Customer } from '../models/customer';\n\nexport class ServiceResponse {\n  status: ServiceStatus;\n  token: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CustomerService {\n\n  constructor(private http: HttpClient) { }\n\n  asyncGetCustomers(): Observable<Array<Customer>> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this.http.get(`http://localhost:8080/api/customers`, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response'\n      }).subscribe((data: any) => {\n        const primitiveCstms = data.body;\n        const cstms: Array<Customer> = primitiveCstms.map((obj) => {\n          const k = new Customer();\n          k.firstName = obj.firstName;\n          k.lastName = obj.lastName;\n          k.fiscalCode = obj.fiscalCode;\n          k.vatNumber = obj.vatNumber;\n          k.birth = obj.birth;\n          k.idCard = obj.idCard;\n          k.passport = obj.passport;\n          k.driveLicense = obj.driveLicense;\n          k.address = obj.address;\n          // k.options = obj.options;\n          k.notes = obj.notes;\n          k.contacts = obj.contacts;\n          k.token = obj.token;\n          k.version = obj.version;\n          k.company = obj.company;\n          k.deleted = obj.deleted;\n          k._id = obj._id;\n          return k;\n        });\n        observer.next(cstms);\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n  asyncGetCustomer(token: string): Observable<Customer> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this.http.get(`http://localhost:8080/api/customers/${token}`, {\n        headers : {\n          's-t': session\n        },\n        observe: 'response'\n      }).subscribe((data: any) => {\n        const obj = data.body;\n        const k = new Customer();\n        k.firstName = obj.firstName;\n        k.lastName = obj.lastName;\n        k.fiscalCode = obj.fiscalCode;\n        k.vatNumber = obj.vatNumber;\n        k.birth = obj.birth;\n        k.idCard = obj.idCard;\n        k.passport = obj.passport;\n        k.driveLicense = obj.driveLicense;\n        k.address = obj.address;\n        k.options = new Map<string, string>();\n        if (JSON.stringify(obj.options) !== JSON.stringify({})) {\n          Object.keys(obj.options).forEach(key => {\n            k.options.set(key, obj.options[key]);\n          });\n        }\n        k.notes = obj.notes;\n        k.contacts = obj.contacts;\n        k.token = obj.token;\n        k.version = obj.version;\n        k.company = obj.company;\n        k.deleted = obj.deleted;\n        k._id = obj._id;\n        console.log(k);\n        observer.next(k);\n        return {unsubscribe() {}};\n      }, error => {\n        console.log(error);\n        observer.error(error);\n        return {unsubscribe() {}};\n      });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Organization } from '../models/organization';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrganizationService {\n\n  constructor(private hc: HttpClient) { }\n\n  private url = 'http://localhost:8080/api/world';\n\n  getOrganizationList(kind: string): Observable<Organization[]> {\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedout';\n    }\n\n    return this.hc.get<Organization[]>(`${this.url}/${kind}`, {\n      headers : {\n        's-t': session\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Policy } from '../models/policy';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PolicyService {\n  baseUrl = 'http://localhost:8080/api/policies';\n  constructor(private hc: HttpClient) { }\n\n  getList(kind?: string): Observable<Policy[]> {\n    const mayKind = kind ? kind : 'policy';\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedout';\n    }\n    return this.hc.get<Policy[]>(`${this.baseUrl}?kind=${mayKind}`, {\n      headers : {\n        's-t': session\n      }\n    });\n  }\n\n  single(id: string): Observable<Policy> {\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedou';\n    }\n    return this.hc.get<Policy>(`${this.baseUrl}/${id}`, {\n      headers: {\n        's-t': session\n      }\n    });\n  }\n\n  saveNew(policy: Policy): Observable<Policy> {\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedou';\n    }\n    return this.hc.post<Policy>(this.baseUrl, policy, {\n      headers: {\n        's-t': session\n      }\n    });\n  }\n\n  update(policy: Policy): Observable<Policy> {\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedou';\n    }\n    return this.hc.put<Policy>(`${this.baseUrl}/${policy.token}`, policy, {\n      headers: {\n        's-t': session\n      }\n    });\n  }\n\n  delete(id: string): Observable<boolean> {\n    return new Observable((observer) => {\n      let session = window.localStorage.getItem('_session');\n      if (! session) {\n        session = 'loggedout';\n      }\n      this.hc.delete(`${this.baseUrl}/${id}`, {\n        headers: {\n          's-t': session\n        },\n        observe: 'response',\n        responseType: 'text',\n      }).subscribe((res: HttpResponse<any>) => {\n        observer.next(res.status === 200);\n      }, error => {\n        observer.error(error);\n      });\n    });\n  }\n\n  toPolicy(token: string): Observable<Policy> {\n    let session = window.localStorage.getItem('_session');\n    if (! session) {\n      session = 'loggedout';\n    }\n    return this.hc.post<Policy>(`${this.baseUrl}/topolicy/${token}`, {}, {\n      headers: {\n        's-t': session\n      }\n    });\n  }\n}\n"],"sourceRoot":""}